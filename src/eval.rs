use crate::position::Position;
use crate::types::*;

#[rustfmt::skip]
pub const PSQT: [[i32; 64]; 15] = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ], [2293, -1158, 2348, 666, -900, -1727, -852, 2042, 28326, 31669, 21513, 21509, 18835, 34357, 35264, 26318, 31195, 34055, 26861, 25767, 24620, 26183, 35009, 28281, 30229, 34417, 31680, 29741, 29424, 28012, 34714, 29175, 36088, 39012, 34952, 30289, 39515, 34278, 36878, 28851, 51266, 46227, 51806, 51119, 52049, 57153, 49831, 37365, 78140, 76439, 75414, 64902, 63185, 55797, 50793, 60876, 1600, -1526, 124, -1775, 1442, 2028, -2102, -1626, ], [24572, 20675, 12930, 14577, 15733, 15136, 22494, -2875, 13931, 23225, 25631, 32227, 34247, 28600, 24065, 19806, 19970, 32775, 35860, 39493, 41883, 35709, 41012, 27371, 28171, 35287, 43895, 44366, 48469, 43640, 44445, 28904, 32735, 42066, 50208, 50698, 52206, 60754, 45033, 52893, 39728, 43285, 52481, 58254, 57995, 56072, 55335, 40819, 35130, 41248, 48973, 51949, 53952, 48501, 43214, 25797, 26907, 42831, 43701, 38582, 46087, 39325, 37077, 16479, ], [38287, 46381, 35552, 32084, 30979, 38743, 39140, 37115, 45381, 47167, 47264, 44769, 43930, 41682, 49396, 47562, 45293, 55386, 49678, 50540, 47059, 48999, 53056, 46252, 50788, 48536, 54795, 55631, 56792, 53116, 49388, 48991, 46086, 56077, 52650, 62331, 58034, 63787, 53021, 50028, 46005, 57060, 56484, 64972, 58728, 61701, 60591, 58896, 47346, 51734, 60940, 59191, 53752, 58145, 50080, 48247, 46842, 58766, 50517, 53327, 50869, 43829, 55641, 57999, ], [76842, 81386, 82687, 82410, 84411, 80054, 78105, 73904, 67007, 72849, 75867, 76213, 76096, 80484, 76358, 73538, 70755, 76071, 73580, 78229, 77023, 74715, 80867, 74350, 80294, 87028, 84525, 84013, 86669, 85203, 90549, 80113, 90711, 90592, 97363, 98362, 96120, 94223, 92336, 89700, 99078, 96334, 102342, 104372, 103750, 102564, 95592, 92222, 101590, 98206, 99077, 99153, 103752, 98844, 97198, 97976, 99613, 93953, 98629, 100841, 99506, 99967, 98885, 98414, ], [121789, 118305, 117817, 121197, 121996, 108508, 116065, 108016, 118511, 118986, 123480, 120139, 121236, 122406, 119544, 117532, 117415, 125931, 125256, 123148, 123299, 120810, 128589, 118286, 120436, 123293, 129341, 133007, 128327, 132466, 127223, 125190, 123004, 126195, 130193, 135670, 138432, 140533, 138505, 137122, 117696, 124502, 132251, 137074, 141763, 153780, 152449, 147891, 120804, 124319, 135917, 146802, 138743, 141315, 146574, 151499, 129526, 134968, 137541, 138768, 146095, 148438, 149041, 144503, ], [-3229, 9174, -1949, -18400, -15655, -10649, -4244, -2174, 1184, 1300, -7579, 26, -2452, -4076, 245, -1838, -5765, -587, 2567, 4150, 3367, 2420, 201, -2816, -7472, 4291, 2258, 8515, 8431, 1998, 6485, -7412, 3398, 10374, 13413, 4052, 8036, 10364, 9167, 629, 10926, 14085, 11270, 5418, 4334, 12857, 15274, 2867, -363, 14679, 16265, 19896, 10464, 16679, 14074, 5433, -8274, 7319, 3560, 13343, 13876, 1654, 5334, 5225, ], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ], [-1969, -129, -1106, -210, 297, -1698, 1948, 2230, -75314, -72005, -72229, -61795, -63549, -59101, -60349, -57272, -46874, -51485, -53134, -53883, -52972, -46636, -47588, -42286, -38077, -39344, -40718, -32923, -36037, -33175, -36003, -32304, -32936, -36445, -32482, -31099, -30661, -28030, -33084, -29322, -31305, -30498, -30230, -25834, -27736, -30156, -35347, -30227, -30685, -30794, -25866, -20593, -20633, -33986, -36385, -28234, -145, 328, 285, 570, -2020, 1782, 467, 1983, ], [-26895, -25075, -48634, -46968, -51518, -41797, -40729, -13449, -30335, -40395, -51796, -50167, -55005, -56936, -50817, -36488, -34841, -42935, -57333, -57763, -62307, -64112, -50737, -39869, -40484, -42087, -55395, -55184, -52912, -60079, -50658, -43580, -31408, -34190, -47345, -40196, -45777, -43309, -43392, -37430, -24456, -31434, -34527, -38950, -40032, -37803, -30737, -22329, -14489, -13526, -26622, -29421, -31367, -26191, -27493, -20349, -12010, -22342, -4997, -14985, -23253, -11890, -23556, -2878, ], [-44356, -57218, -55640, -55031, -57339, -38304, -56102, -52922, -41850, -57222, -60649, -55733, -53221, -54363, -47408, -53481, -42291, -58595, -56845, -59310, -62441, -61220, -65016, -55553, -46062, -51435, -55855, -61444, -64733, -61473, -51228, -53994, -47047, -50373, -51840, -56006, -58161, -52636, -50058, -45926, -44267, -46573, -53310, -52234, -53264, -52187, -48280, -44055, -46137, -48428, -49762, -40749, -46796, -46995, -52864, -39333, -39167, -42269, -38896, -36848, -32701, -36772, -32484, -38378, ], [-100538, -99704, -96739, -101597, -102553, -97949, -100474, -104934, -99234, -99224, -100885, -105664, -105720, -98001, -98673, -97326, -98831, -99356, -96762, -100486, -104771, -105035, -101412, -96789, -88950, -92720, -96550, -103496, -95852, -99367, -92242, -93716, -77821, -86858, -86051, -82984, -84417, -80747, -88381, -78088, -70248, -76845, -76789, -76597, -77828, -74042, -86348, -76893, -68413, -70430, -74279, -75260, -73942, -76631, -77395, -69592, -76103, -79121, -80862, -82720, -81348, -78568, -73269, -71895, ], [-137523, -140557, -147164, -146518, -146227, -146895, -150500, -144550, -118963, -122032, -132723, -143221, -144641, -143146, -141677, -153436, -122784, -125269, -124888, -138343, -144090, -153571, -148513, -138423, -119287, -124413, -136362, -133392, -139904, -143307, -136250, -132757, -120817, -121739, -126001, -127279, -128967, -128015, -132195, -128348, -120574, -120557, -126060, -119892, -122448, -122120, -130321, -115486, -116251, -118369, -122161, -117169, -118786, -116465, -118356, -103841, -126368, -112691, -113322, -118816, -112564, -97091, -98538, -102341, ], [2243, -2365, -15217, -17321, -8777, -22563, -7767, -4781, -8390, -18222, -13385, -19007, -15061, -13293, -20198, -12908, -10153, -15737, -12012, -7237, -3998, -16976, -16572, -7555, -11302, -11886, -17211, -11549, -11461, -13006, -14696, -3805, 6583, -3226, -10114, -9482, -11465, -4766, -6818, 2882, 10827, 3155, -5700, -5644, -3367, -2731, 1679, 7091, 6024, 3200, 5154, 5085, 2306, 4369, 1588, 2759, 8962, -4658, 271, 19771, 15452, 13231, 2729, 4718, ], ];
pub const TEMPO_BONUS: i32 = 9907;
pub const BIAS: i32 = 90;
pub const DIV: i32 = 512;

pub fn eval(pos: &Position) -> i32 {
    let mut eval = pos.piece_eval + BIAS;
    eval = if pos.ctm == WHITE { eval } else { -eval } + TEMPO_BONUS;
    eval / DIV
}
